<!DOCTYPE html>
<html lang="en">

<head>
    <title>Review</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--CUSTOM-->
    <link rel="stylesheet" href="./css/login.css">
</head>

<body>
    <form class="reviewForm">
        <div class="form-group">
            <label for="exampleFormControlInput1">Title</label>
            <input type="text" class="form-control" id="title" placeholder="Title">
        </div>
        <div class="form-group">
            <label for="overallStars">Overall Rating</label>
            <select class="form-control" id="overallStars">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        <div class="form-group">
            <label for="difficultyStars">Difficulty Rating</label>
            <select class="form-control" id="difficultyStars">
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="body">Review</label>
            <textarea class="form-control" id="body" rows="5"></textarea>
        </div>
        <div class="form-group">
            <label for="hashtag">Hashtags</label>
            <input type="text" class="form-control" id="hashtag" placeholder="dog-friendly, lake...">
            <button type="button" id="addHashtag" class="btn btn-primary">Add Hashtag</button>
            <div id="addedHashtags" class="form-group"></div>
        </div>
        <button type="submit" class="btn btn-default">Submit Review</button>
    </form>
    <script>

        var hashtags = []

        $("#addHashtag").click(function () {
            var hashtagVal = $("#hashtag").val().trim()
            hashtags.push(hashtagVal)
            var newTextVal = "#" + hashtagVal
            var parentDiv = $("#addedHashtags")
            var hashTagBadge = $('<span />')
            hashTagBadge.addClass("badge badge-pill badge-primary")
            hashTagBadge.text(newTextVal)
            parentDiv.append(hashTagBadge)
            $("#hashtag").val("")

        })

        var reviewForm = $("form.reviewForm")
        reviewForm.on("submit", function () {
            event.preventDefault()

            var title = $("#title").val().trim()
            var overallStars = $("#overallStars").val().trim()
            
            var difficultyStars = $("#difficultyStars").val().trim()
            var review = $("#body").val().trim()
            var hashtagString = hashtags.toString()

            var data = {
                title: title,
                overallStars: parseInt(overallStars),
                difficultyStars: parseInt(difficultyStars),
                review: review,
                hashtags: hashtagString
            }

            console.log(data)



        })




        



        


    </script>

</body>

</html>